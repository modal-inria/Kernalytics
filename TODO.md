# To do

## Documentation

- in [io](/doc/io.md), provide a description of the parameters and output specific to each method.

## Short Term

- provide test cases for all algorithms, in Scala and R
- provide detailed instructions for kernalizr, at least in a markdown format
- some data types are coded but can not be used in a csv file for lack of an implemented parser:
  - matrices
- only a small fraction of the possible combinations of data and numerical methods are available in [generateKernelFromParamData](/src/main/scala/rkhs/KernelGenerator.scala)
- arrays should be used instead of DenseVector for all [DataRoot](/src/main/scala/rkhs/DataRoot.scala) subclasses. No linear algebra are performed directly on the data, making the Breeze container useless.

## Generic Long Term

- implement string kernel, see Gartner
- implement graph kernel
  - first the one based on laplacian by Celisse
  - then the one proposed in Gartner
  
## Specific Long Term

### Algorithm

- Change point detection- rewrite it using loops and mutable states ?

### Architecture

- Real and Index types are defined to avoid setting the types directly. However, .toInt and .toReal methods are used for conversion. Any mention to Int and Double should be removed.
- Use TypeTag instead of encapsulating types in KerEval, for example
- Better management of Option, when .get is used
- DenseVectorRoot involves a lot of pattern-matching scattered across multiple files. Maybe it would be best to change the architecture to centralize the descriptions of behaviours.
  - See: [How to avoid type argument erasure](https://stackoverflow.com/questions/48169051/how-to-avoid-type-argument-erasure/48170083?)noredirect=1#comment83372119_48170083
  - once kerEval are generated, this problem disappears... So is it worth investigating ?
- rkhs.IO should be more automated, maybe by just maintaining lists of possibles combinations of kernels and datatypes ?
- in p00, p01, p02, p03, p04, use TypeDef Index and Real, instead of the underlying types

### Computation

- Regression and MMD are ignoring cache directives (alogo.csv/gramOpti). Algorithms should be written to take them into account.

### Check

- Exception messages generated using new Exception start with java.lang.Exception. Could this be removed to indicate that the exception has been generated by Kernalytics ?
- In segmentation, check that the maximum number of required segment is smaller than the number of time steps

### kernalyzr

- rscala::scalaSBT will support sbt assembly in the future. when that is the case, remove the updateAssembly.sh script at the root, and simplify the configure script.

### Mathematics

- A normed space requires a vector space, not an inner product space. This should be reflected in the corresponding traits.
- remove the deprecation warnings using -deprecation
- Nystrom low rank approximation: [Low-rank matrix approximations](https://en.wikipedia.org/wiki/Low-rank_matrix_approximations)

### Performances

- the loop over D in offline change point detection for a given tauP can be parallelized.
  - Will the gain outweight the overhead for thread spawning ?
  - That would depend on the value of DMax.
  - is it possible to do it for the mutable state version ?
- Gram matrix symmetry should be exploited to reduce computation time
- Perform tests to provide spectrum of Gram matrix and check that it decreases very quickly
